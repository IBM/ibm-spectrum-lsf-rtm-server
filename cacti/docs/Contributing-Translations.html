<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Cacti â€“ Creating Translations</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="Cacti-Github.css" />
</head>
<body>
<h1 id="creating-translations">Creating Translations</h1>
<h2 id="internationalization-of-cacti-and-its-plugins">Internationalization of Cacti and its Plugins</h2>
<p>If you wish to help with the development of translations of Cacti from English to other languages, here is your one source for starting and completing this activity. There are several steps, but if you follow them closely, you have a chance to change the world and add to the Cacti community.</p>
<h2 id="steps">Steps</h2>
<ol>
<li><p>In Cacti's base directory, there is a directory called <code>locales</code>.</p>
<pre class="console"><code># ls locales/
LC_MESSAGES  po
</code></pre>
<p>Inside of that directory, you will find a shell script called <code>build_gettext.sh</code>. If you run this script, a special file called a pot file will be created. It will be located in the 'po' directory.</p>
<pre class="console"><code># ls locales/po/
bulgarian_bulgaria.po        dutch_netherlands.po  japanese_japan.po swedish_sweden.po
cacti.pot                    french_france.po      russian_russia.po
chinese_china_simplified.po  german_germany.po     spanish_spain.po
</code></pre></li>
<li><p>If when you run the <code>update-pot.sh</code> script you receive warnings about <code>\r</code> being included in some files, simply run dos2unix on those files, and rerun the script.</p>
<pre class="console"><code>dos2unix somefile.xyz
dos2unix: converting file somefile.xyz to Unix format ...
</code></pre></li>
<li><p>Download a PO Editor. If using Windows, a good solution would be Poedit. You can download it from <a href="https://poedit.net/pro">Poedit Pro</a>. If you donate approximately $20 USD to the author, he enables other features to allow auto-translation of several phrases using multiple online translation databases to save you time.</p></li>
<li><p>Once Poedit is installed, open it, and select File -&gt; New from POT/PO file, and select the cacti.pot file. When you click 'Open', it will ask you for what language you are translating to. Cacti uses the dual syntax of Language (Country). So, for French, you would select 'French (France)'.</p></li>
<li><p>Once you have done that, you can start your translation. You will select each phrase one at a time, and enter in the translation in your language.</p></li>
<li><p>You should save your work often.</p></li>
<li><p>You can test your work on a test installation. Upload both .mo and .po files to your test installation and change your user profile to use the language you have just updated.</p></li>
<li><p>Cacti and its plugins get updates very often. To make sure the translations are up to date, the translator should download the latest version and run <code>build_gettext.sh</code> to create an up-to-date version of cacti.pot.</p></li>
</ol>
<h2 id="editing-po-files">Editing PO Files</h2>
<p>The PO Editor will create both a PO and MO file every time you save the file.d The final name of the file will have to be changed to Cacti's standard naming. For example, Poedit saves the file from the example above as <code>fr_FR.po</code>, but Cacti will need these files name in their long format of <code>french_france.po</code> and <code>french_france.mo</code>.</p>
<pre class="console"><code># ls locales/LC_MESSAGES/
bulgarian_bulgaria.mo        french_france.mo   russian_russia.mo
chinese_china_simplified.mo  german_germany.mo  spanish_spain.mo
dutch_netherlands.mo         japanese_japan.mo  swedish_sweden.mo
</code></pre>
<pre class="console"><code># ls locales/po/
bulgarian_bulgaria.po        dutch_netherlands.po  japanese_japan.po  swedish_sweden.po
cacti.pot                    french_france.po      russian_russia.po
chinese_china_simplified.po  german_germany.po     spanish_spain.po
</code></pre>
<p>Once you have completed your translation, you will need to open a pull request in GitHub including your final PO and MO files. Please ensure that in the PO file that you assign copyright to the Cacti Group. You will find that information in the header of the PO file.</p>
<h2 id="considerations">Considerations</h2>
<p>We can only accept translations from people who are willing to turn over their rights to The Cacti Group, though you will be recognized as its original author.</p>
<p>You can repeat this process for every Cacti Group supported plugin. Right now, all of our plugins include a <code>locales</code> directory with the <code>update-pot.sh</code> or <code>build_gettext.sh</code> file included.</p>
<p>It's really just that easy!</p>
<hr />
<p>Copyright (c) 2004-2020 The Cacti Group</p>
</body>
</html>
