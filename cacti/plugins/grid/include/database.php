<?php
// $Id$
/*
 +-------------------------------------------------------------------------+
 | Copyright IBM Corp. 2006, 2024                                          |
 |                                                                         |
 | Licensed under the Apache License, Version 2.0 (the "License");         |
 | you may not use this file except in compliance with the License.        |
 | You may obtain a copy of the License at                                 |
 |                                                                         |
 | http://www.apache.org/licenses/LICENSE-2.0                              |
 |                                                                         |
 | Unless required by applicable law or agreed to in writing, software     |
 | distributed under the License is distributed on an "AS IS" BASIS,       |
 | WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.|
 | See the License for the specific language governing permissions and     |
 | limitations under the License.                                          |
 +-------------------------------------------------------------------------+
*/

function grid_create_tables() {
	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'appName', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'numRUN', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPEND', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numJOBS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'efficiency', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'total_cpu', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`appName';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_applications', $data);

	$data = array();
	$data['columns'][] = array('name' => 'app_id', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'auto_increment' => true);
	$data['columns'][] = array('name' => 'app_name', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'matchResReq', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'matchProject', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'matchJobname', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '');
	$data['primary'] = 'app_id';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_apps', $data);

	$data = array();
	$data['columns'][] = array('name' => 'app_name', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['primary'] = array('app_id');
	db_update_table('grid_apps', $data);

	$data = array();
	$data['columns'][] = array('name' => 'app_id', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'exit_code', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'reason', 'type' => 'varchar(50)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'description', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['primary'] = 'app_id`,`exit_code';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_apps_error_codes', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'stat', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jType', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jName', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'user', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'userGroup', 'type' => 'varchar(60)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'projectName', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPEND', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numRUN', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numSSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numUSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numEXIT', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numDONE', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'minMemory', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'maxMemory', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avgMemory', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'minSwap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'maxSwap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avgSwap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'totalCPU', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'totalUTime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'totalSTime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'totalEfficiency', 'type' => 'decimal(9,5)', 'NULL' => false, 'default' => '0.00000');
	$data['columns'][] = array('name' => 'first_seen', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP', 'on_update' => 'CURRENT_TIMESTAMP');
	$data['primary'] = 'clusterid`,`jobid`,`submit_time';
	$data['keys'][] = array('name' => 'clusterid_last_updated', 'columns' => 'clusterid`,`last_updated');
	$data['keys'][] = array('name' => 'clusterid_jName', 'columns' => 'clusterid`,`jName');
	$data['keys'][] = array('name' => 'clusterid_user', 'columns' => 'clusterid`,`user');
	$data['keys'][] = array('name' => 'clusterid_queue', 'columns' => 'clusterid`,`queue');
	$data['keys'][] = array('name' => 'clusterid_userGroup', 'columns' => 'clusterid`,`userGroup');
	$data['keys'][] = array('name' => 'clusterid_projectName', 'columns' => 'clusterid`,`projectName');
	$data['keys'][] = array('name' => 'clusterid_stat', 'columns' => 'clusterid`,`stat');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Job Groups and Array';
	api_plugin_db_table_create ('grid', 'grid_arrays', $data);

	$data = array();
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['primary'] = array('clusterid','jobid','submit_time');
	db_update_table('grid_arrays', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'stat', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jType', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jName', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'user', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'userGroup', 'type' => 'varchar(60)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'projectName', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPEND', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numRUN', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numSSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numUSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numEXIT', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numDONE', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'minMemory', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'maxMemory', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avgMemory', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'minSwap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'maxSwap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avgSwap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'totalCPU', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'totalUTime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'totalSTime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'totalEfficiency', 'type' => 'decimal(9,5)', 'NULL' => false, 'default' => '0.00000');
	$data['columns'][] = array('name' => 'first_seen', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP', 'on_update' => 'CURRENT_TIMESTAMP');
	$data['primary'] = 'clusterid`,`jobid`,`submit_time';
	$data['keys'][] = array('name' => 'clusterid_last_updated', 'columns' => 'clusterid`,`last_updated');
	$data['keys'][] = array('name' => 'clusterid_jName', 'columns' => 'clusterid`,`jName');
	$data['keys'][] = array('name' => 'clusterid_user', 'columns' => 'clusterid`,`user');
	$data['keys'][] = array('name' => 'clusterid_queue', 'columns' => 'clusterid`,`queue');
	$data['keys'][] = array('name' => 'clusterid_userGroup', 'columns' => 'clusterid`,`userGroup');
	$data['keys'][] = array('name' => 'clusterid_projectName', 'columns' => 'clusterid`,`projectName');
	$data['keys'][] = array('name' => 'clusterid_stat', 'columns' => 'clusterid`,`stat');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Finished Job Groups and Array';
	api_plugin_db_table_create ('grid', 'grid_arrays_finished', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'auto_increment' => true);
	$data['columns'][] = array('name' => 'poller_id', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '1');
	$data['columns'][] = array('name' => 'cacti_host', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'cacti_tree', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'clustername', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'cluster_timezone', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'efficiency_state', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['columns'][] = array('name' => 'efficiency', 'type' => 'double', 'NULL' => false, 'default' => '100');
	$data['columns'][] = array('name' => 'efficiency_queues', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'efficiency_warn_count', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'efficiency_alarm_count', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'efficiency_clear_count', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'disabled', 'type' => 'char(2)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'total_hosts', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'total_cpus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'total_clients', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hourly_started_jobs', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hourly_done_jobs', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hourly_exit_jobs', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'daily_started_jobs', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'daily_done_jobs', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'daily_exit_jobs', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'lim_timeout', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '10');
	$data['columns'][] = array('name' => 'mbd_timeout', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '10');
	$data['columns'][] = array('name' => 'mbd_job_timeout', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '1');
	$data['columns'][] = array('name' => 'mbd_job_retries', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '1');
	$data['columns'][] = array('name' => 'lsf_envdir', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_confdir', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'ego_confdir', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_version', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '62');
	$data['columns'][] = array('name' => 'lsf_clustername', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_ls_error', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'lsf_lsb_error', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'lsf_lsb_jobs_error', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'lsf_lim_response', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'lsf_lsb_response', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'lsf_lsb_jobs_response', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'lsf_admins', 'type' => 'varchar(256)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsb_debug', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_lim_debug', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_res_debug', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_log_mask', 'type' => 'varchar(50)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_master', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_masterhosts', 'type' => 'varchar(1024)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_serverhosts', 'type' => 'varchar(1024)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_lic_schedhosts', 'type' => 'varchar(1024)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_unit', 'type' => 'varchar(4)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'collection_timing', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'max_nonjob_runtime', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'job_minor_timing', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'job_major_timing', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'ha_timing', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'max_job_runtime', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'ip', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lim_port', 'type' => 'varchar(10)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_ego', 'type' => 'char(3)', 'NULL' => true, 'default' => 'N');
	$data['columns'][] = array('name' => 'lsf_strict_checking', 'type' => 'varchar(10)', 'NULL' => false, 'default' => 'N');
	$data['columns'][] = array('name' => 'lsf_krb_auth', 'type' => 'varchar(3)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_master_hostname', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'username', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'credential', 'type' => 'varchar(512)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'communication', 'type' => 'varchar(10)', 'NULL' => false, 'default' => 'ssh');
	$data['columns'][] = array('name' => 'privatekey_path', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'LSF_TOP', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'add_frequency', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'host_template_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '14');
	$data['columns'][] = array('name' => 'add_graph_frequency', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'advanced_enabled', 'type' => 'char(2)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'email_domain', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'email_admin', 'type' => 'varchar(512)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'grididle_enabled', 'type' => 'char(2)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'grididle_notify', 'type' => 'int(1)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'grididle_runtime', 'type' => 'int(10)', 'NULL' => false, 'default' => '3600');
	$data['columns'][] = array('name' => 'grididle_window', 'type' => 'int(10)', 'NULL' => false, 'default' => '3600');
	$data['columns'][] = array('name' => 'grididle_cputime', 'type' => 'int(10)', 'NULL' => false, 'default' => '24');
	$data['columns'][] = array('name' => 'grididle_jobtypes', 'type' => 'varchar(20)', 'NULL' => false, 'default' => 'all');
	$data['columns'][] = array('name' => 'grididle_jobcommands', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'grididle_exclude_queues', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'perfmon_run', 'type' => 'char(3)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'perfmon_interval', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'exec_host_res_req', 'type' => 'varchar(512)', 'NULL' => false, 'default' => '');
	$data['primary'] = 'clusterid';
	$data['keys'][] = array('name' => 'poller_id_disabled', 'columns' => 'poller_id`,`disabled');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_clusters', $data);

	$data = array();
	$data['columns'][] = array('name' => 'lsf_envdir', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_confdir', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_unit', 'type' => 'varchar(4)', 'NULL' => false, 'default' => '', 'after' => 'lsf_lic_schedhosts');
	$data['primary'] = array('clusterid');
	db_update_table('grid_clusters', $data);

	api_plugin_db_add_column('grid', 'host', array('name' => 'clusterid', 'unsigned' => true, 'type' => "int(10)", 'NULL' => false, 'default' => '0', 'after' => 'host_template_id'));
	api_plugin_db_add_column('grid', 'host', array('name' => 'monitor', 'type' => "char(3)", 'NULL' => false, 'default' => 'on', 'after' => 'disabled'));

	db_add_index('host', 'INDEX', 'clusterid_host', array('clusterid', 'hostname'));

	$data = array();
	$data['columns'][] = array('name' => 'dashboard_item_id', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'auto_increment' => true);
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'user_id', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'type', 'type' => 'varchar(10)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'type_id', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'sequence', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['primary'] = 'dashboard_item_id';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_clusters_dashboard_items', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'metric', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'current', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'min', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'total', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`metric';
	$data['type'] = 'InnoDB';
	$data['comment'] = 'Contains Perfmon Metrics';
	api_plugin_db_table_create ('grid', 'grid_clusters_perfmon_metrics', $data);

	$data = array();
	$data['columns'][] = array('name' => 'metric', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'type', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['primary'] = 'metric';
	$data['keys'][] = array('name' => 'type_metric', 'columns' => 'type`,`metric');
	$data['type'] = 'InnoDB';
	$data['comment'] = 'Define Perfmon Metrics type';
	api_plugin_db_table_create ('grid', 'grid_clusters_perfmon_metrics_type', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'clients', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'clients_peak', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'servers', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'servers_peak', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'cpus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'cpus_peak', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'cores', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'cores_peak', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'slots', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'slots_peak', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'serv_all', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'serv_ok', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'serv_closed', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'serv_unreachable', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'serv_unavail', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'dc_servers', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'dc_servers_peak', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'dc_cores', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'dc_cores_peak', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'dc_vm_containers', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'dc_vm_containers_peak', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'num_jobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'num_run', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'num_susp', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'num_pend', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'num_finished', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'num_users', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'num_active_users', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'num_groups', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_mbatchd_start', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'active_mbd_pid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_mbatchd_reconfig', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Contains badmin showstatus information';
	api_plugin_db_table_create ('grid', 'grid_clusters_perfmon_status', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_jobid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'start_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'last_run', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'poller_interval', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pjob_submitTime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pjob_seenTime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pjob_runTime', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pjob_doneTime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pjob_seenDoneTime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pjob_startTime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Contains Perfmon Sampling Information';
	api_plugin_db_table_create ('grid', 'grid_clusters_perfmon_summary', $data);

	$data = array();
	$data['columns'][] = array('name' => 'grid_elim_template_instance_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false);
	$data['columns'][] = array('name' => 'local_graph_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false);
	$data['primary'] = 'grid_elim_template_instance_id`,`local_graph_id';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Stores the Map of ELIM template instance to the cacti graph local.';
	api_plugin_db_table_create ('grid', 'grid_elim_instance_graphs', $data);

	$data = array();
	$data['columns'][] = array('name' => 'id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'auto_increment' => true);
	$data['columns'][] = array('name' => 'name', 'type' => 'char(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'grid_elim_template_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hosttype_option', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hosttype_value', 'type' => 'varchar(40)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'data_source_profile_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'id';
	$data['keys'][] = array('name' => 'grid_elim_template_id', 'columns' => 'grid_elim_template_id');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Stores the instances of  ELIM graph template.';
	api_plugin_db_table_create ('grid', 'grid_elim_template_instances', $data);

	$data = array();
	$data['columns'][] = array('name' => 'id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'auto_increment' => true);
	$data['columns'][] = array('name' => 'hash', 'type' => 'char(32)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'name', 'type' => 'char(255)', 'NULL' => false, 'default' => '');
	$data['primary'] = 'id';
	$data['keys'][] = array('name' => 'name', 'columns' => 'name');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Contains each ELIM graph template name.';
	api_plugin_db_table_create ('grid', 'grid_elim_templates', $data);

	$data = array();
	$data['columns'][] = array('name' => 'id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'auto_increment' => true);
	$data['columns'][] = array('name' => 'local_graph_template_graph_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'local_graph_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'graph_template_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 't_image_format_id', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'image_format_id', 'type' => 'tinyint(1)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 't_title', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'title', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'title_cache', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 't_height', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'height', 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 't_width', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'width', 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 't_upper_limit', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'upper_limit', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 't_lower_limit', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'lower_limit', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 't_vertical_label', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'vertical_label', 'type' => 'varchar(200)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_slope_mode', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'slope_mode', 'type' => 'char(2)', 'NULL' => true, 'default' => 'on');
	$data['columns'][] = array('name' => 't_auto_scale', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'auto_scale', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_auto_scale_opts', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'auto_scale_opts', 'type' => 'tinyint(1)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 't_auto_scale_log', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'auto_scale_log', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_scale_log_units', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'scale_log_units', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_auto_scale_rigid', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'auto_scale_rigid', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_auto_padding', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'auto_padding', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_base_value', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'base_value', 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 't_grouping', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'grouping', 'type' => 'char(2)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 't_unit_value', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'unit_value', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_unit_exponent_value', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'unit_exponent_value', 'type' => 'varchar(5)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 't_alt_y_grid', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'alt_y_grid', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_right_axis', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'right_axis', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_right_axis_label', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'right_axis_label', 'type' => 'varchar(200)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_right_axis_format', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'right_axis_format', 'type' => 'mediumint(8)', 'NULL' => true);
	$data['columns'][] = array('name' => 't_right_axis_formatter', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'right_axis_formatter', 'type' => 'varchar(10)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_left_axis_formatter', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'left_axis_formatter', 'type' => 'varchar(10)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_no_gridfit', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'no_gridfit', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_unit_length', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'unit_length', 'type' => 'varchar(10)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_tab_width', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'tab_width', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '30');
	$data['columns'][] = array('name' => 't_dynamic_labels', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'dynamic_labels', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_force_rules_legend', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'force_rules_legend', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_legend_position', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'legend_position', 'type' => 'varchar(10)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 't_legend_direction', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'legend_direction', 'type' => 'varchar(10)', 'NULL' => true, 'default' => '');
	$data['primary'] = 'id';
	$data['keys'][] = array('name' => 'local_graph_id', 'columns' => 'local_graph_id');
	$data['keys'][] = array('name' => 'graph_template_id', 'columns' => 'graph_template_id');
	$data['keys'][] = array('name' => 'title_cache', 'columns' => 'title_cache');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'utf8mb4';
	$data['comment'] = 'Stores the actual graph data.';
	api_plugin_db_table_create ('grid', 'grid_elim_templates_graph', $data);

	$data = array();
	$data['columns'][] = array('name' => 'local_graph_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false);
	$data['columns'][] = array('name' => 'graph_templates_graph_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false);
	$data['columns'][] = array('name' => 'grid_elim_template_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false);
	$data['columns'][] = array('name' => 'grid_elim_templates_graph_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false);
	$data['primary'] = 'local_graph_id`,`graph_templates_graph_id';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Stores the Map of ELIM grid_elim_templates_graph to cacti graph_templates_graph.';
	api_plugin_db_table_create ('grid', 'grid_elim_templates_graph_map', $data);

	$data = array();
	$data['columns'][] = array('name' => 'id', 'unsigned' => true, 'type' => 'int(12)', 'NULL' => false, 'auto_increment' => true);
	$data['columns'][] = array('name' => 'hash', 'type' => 'varchar(32)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'local_graph_template_item_id', 'unsigned' => true, 'type' => 'int(12)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'local_graph_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'graph_template_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'task_item_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'color_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'alpha', 'type' => 'char(2)', 'NULL' => true, 'default' => 'FF');
	$data['columns'][] = array('name' => 'graph_type_id', 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'line_width', 'type' => 'decimal(4,2)', 'NULL' => true, 'default' => '0.00');
	$data['columns'][] = array('name' => 'dashes', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'dash_offset', 'type' => 'mediumint(4)', 'NULL' => true);
	$data['columns'][] = array('name' => 'cdef_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'vdef_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'shift', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'consolidation_function_id', 'type' => 'tinyint(2)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'textalign', 'type' => 'varchar(10)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'text_format', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'value', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'hard_return', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'gprint_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'sequence', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'resource_name', 'type' => 'varchar(40)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'resource_option', 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['primary'] = 'id';
	$data['keys'][] = array('name' => 'graph_template_id', 'columns' => 'graph_template_id');
	$data['keys'][] = array('name' => 'local_graph_id_sequence', 'columns' => 'local_graph_id`,`sequence');
	$data['keys'][] = array('name' => 'task_item_id', 'columns' => 'task_item_id');
	$data['keys'][] = array('name' => 'lgi_gti', 'columns' => 'local_graph_id`,`graph_template_id');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'utf8mb4';
	$data['comment'] = 'Stores the actual graph item data.';
	api_plugin_db_table_create ('grid', 'grid_elim_templates_item', $data);

	$data = array();
	$data['columns'][] = array('name' => 'resource_name', 'type' => 'varchar(40)', 'NULL' => true, 'default' => '', 'after' => 'sequence');
	$data['columns'][] = array('name' => 'resource_option', 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0', 'after' => 'resource_name');
	$data['primary'] = array('id');
	db_update_table('grid_elim_templates_item', $data);

	$data = array();
	$data['columns'][] = array('name' => 'local_graph_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false);
	$data['columns'][] = array('name' => 'graph_templates_item_id', 'unsigned' => true, 'type' => 'int(12)', 'NULL' => false);
	$data['columns'][] = array('name' => 'grid_elim_template_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false);
	$data['columns'][] = array('name' => 'grid_elim_templates_item_id', 'unsigned' => true, 'type' => 'int(12)', 'NULL' => false);
	$data['primary'] = 'local_graph_id`,`graph_templates_item_id';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Stores the Map of ELIM grid_elim_templates_item to cacti graph_templates_item.';
	api_plugin_db_table_create ('grid', 'grid_elim_templates_item_map', $data);

	$data = array();
	$data['columns'][] = array('name' => 'graph_templates_item_id', 'unsigned' => true, 'type' => 'int(12)', 'NULL' => false);
	$data['columns'][] = array('name' => 'grid_elim_templates_item_id', 'unsigned' => true, 'type' => 'int(12)', 'NULL' => false);
	$data['primary'] = array('local_graph_id','graph_templates_item_id');
	db_update_table('grid_elim_templates_item_map', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'groupName', 'type' => 'varchar(512)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'numRUN', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPEND', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numJOBS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numSSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numUSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'efficiency', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'total_cpu', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`groupName';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_groups', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'name', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'poolType', 'type' => 'varchar(32)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'rsrcName', 'type' => 'varchar(128)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'status', 'type' => 'varchar(32)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'res_select', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'slots_per_host', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'policies', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'loan_duration', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'retain', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'total', 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'free', 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'guar_config', 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'guar_used', 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'runJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'runSlots', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pendJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pendSlots', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'memSlotUtil', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'slotUtil', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'cpuUtil', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'memUsed', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'memRequested', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'memReserved', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = array('clusterid','name');
	$data['primary'] = 'clusterid`,`name';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Stores Configuration of Guarantee Resource Pools';
	api_plugin_db_table_create ('grid', 'grid_guarantee_pool', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'name', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'consumer', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'alloc', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'alloc_type', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'guarantee_config', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'guarantee_used', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'total_used', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`name`,`consumer';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Stores Distribution Consumer Information for Guarantee Pool';
	api_plugin_db_table_create ('grid', 'grid_guarantee_pool_distribution', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'name', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'owner', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`name`,`host';
	$data['keys'][] = array('name' => 'host', 'columns' => 'host');
	$data['keys'][] = array('name' => 'clusterid_host', 'columns' => 'clusterid`,`host');
	$data['keys'][] = array('name' => 'clusterid_owner', 'columns' => 'clusterid`,`owner');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Stores Normalized Host Membership for Guarantee Pool';
	api_plugin_db_table_create ('grid', 'grid_guarantee_pool_hosts', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'name', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`name`,`queue';
	$data['keys'][] = array('name' => ' queue', 'columns' => 'queue');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Stores Loan Policies for Guarantee Pool';
	api_plugin_db_table_create ('grid', 'grid_guarantee_pool_loan_queues', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'admin', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'event_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'lockid', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'hCtrlMsg', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'end_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP', 'on_update' => 'CURRENT_TIMESTAMP');
	$data['primary'] = 'clusterid`,`host`,`event_time`,`lockid';
	$data['keys'][] = array('name' => 'summarized', 'columns' => 'clusterid`,`host`,`lockid');
	$data['keys'][] = array('name' => 'event_time_lockid', 'columns' => 'event_time`,`lockid');
	$data['keys'][] = array('name' => 'last_updated', 'columns' => 'last_updated');
	$data['keys'][] = array('name' => 'lockid', 'columns' => 'lockid');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_host_closure_events', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'admin', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'event_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'lockid', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'hCtrlMsg', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'end_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP', 'on_update' => 'CURRENT_TIMESTAMP');
	$data['primary'] = 'clusterid`,`host`,`event_time`,`lockid';
	$data['keys'][] = array('name' => 'summarized', 'columns' => 'clusterid`,`host`,`lockid');
	$data['keys'][] = array('name' => 'event_time_lockid', 'columns' => 'event_time`,`lockid');
	$data['keys'][] = array('name' => 'last_updated', 'columns' => 'last_updated');
	$data['keys'][] = array('name' => 'lockid', 'columns' => 'lockid');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_host_closure_events_finished', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'lockid', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'last_seen', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['primary'] = 'clusterid`,`lockid';
	$data['keys'][] = array('name' => 'lockid', 'columns' => 'lockid');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_host_closure_lockids', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'groupName', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`groupName`,`host';
	$data['keys'][] = array('name' => 'host', 'columns' => 'host');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_hostgroups', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'groupName', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'efficiency', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'total_cpu', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numRUN', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numJOBS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPEND', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'memSlotUtil', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'slotUtil', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'cpuUtil', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'memUsed', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'memRequested', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'memReserved', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`groupName';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Tracks Host Group Statistics';
	api_plugin_db_table_create ('grid', 'grid_hostgroups_stats', $data);

	$data = array();
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hostType', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'hostModel', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'cpuFactor', 'type' => 'varchar(10)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'maxCpus', 'type' => 'varchar(10)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'maxMem', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'maxSwap', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'maxTmp', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'nDisks', 'type' => 'varchar(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'resources', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'windows', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'isServer', 'type' => 'char(1)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'licensed', 'type' => 'char(1)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'rexPriority', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'licFeaturesNeeded', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'licClass', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'nProcs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'cores', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'nThreads', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'first_seen', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'last_seen', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'host`,`clusterid';
	$data['keys'][] = array('name' => 'isServer', 'columns' => 'isServer');
	$data['keys'][] = array('name' => 'hostType', 'columns' => 'hostType');
	$data['keys'][] = array('name' => 'hostModel', 'columns' => 'hostModel');
	$data['keys'][] = array('name' => 'last_seen', 'columns' => 'last_seen');
	$data['keys'][] = array('name' => 'clusterid_is_server', 'columns' => 'clusterid`,`isServer');
	$data['keys'][] = array('name' => 'clusterid_host', 'columns' => 'clusterid`,`host');
	$data['keys'][] = array('name' => 'licFeaturesNeeded', 'columns' => 'licFeaturesNeeded');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_hostinfo', $data);

	//If table is failed to upgrade, we can re-upgrade it by re-install the grid plugin
	$data = array();
	$data['columns'][] = array('name' => 'maxMem', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'maxSwap', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'maxTmp', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'nProcs', 'unsigned' => true, 'type' => "int(10)", 'NULL' => false, 'default' => '0', 'after' => 'licClass');
	$data['columns'][] = array('name' => 'nThreads', 'unsigned' => true, 'type' => "int(10)", 'NULL' => false, 'default' => '0', 'after' => 'cores');
	$data['primary'] = array('host','clusterid');
	db_update_table('grid_hostinfo', $data);

	$data = array();
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'resource_name', 'type' => 'varchar(50)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'host`,`clusterid`,`resource_name';
	$data['keys'][] = array('name' => 'clusterid', 'columns' => 'clusterid');
	$data['keys'][] = array('name' => 'resource_name', 'columns' => 'resource_name');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_hostresources', $data);

	$data = array();
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hStatus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hCtrlMsg', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'status', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'prev_status', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'time_in_state', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'cpuFactor', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'windows', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'userJobLimit', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'maxJobs', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numRun', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numSSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numUSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'mig', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'attr', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numRESERVE', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['columns'][] = array('name' => 'exceptional', 'unsigned' => true, 'type' => 'tinyint(1)', 'NULL' => false, 'default' => '0');
	$data['primary'] = 'host`,`clusterid';
	$data['keys'][] = array('name' => 'clusterid', 'columns' => 'clusterid');
	$data['keys'][] = array('name' => 'status', 'columns' => 'status');
	$data['keys'][] = array('name' => 'prev_status', 'columns' => 'prev_status');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_hosts', $data);

	$data = array();
	$data['columns'][] = array('name' => 'type_id', 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'name', 'type' => 'varchar(100)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'hostname', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'type', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'message', 'type' => 'varchar(1024)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'acknowledgement', 'type' => 'char(3)', 'NULL' => false, 'default' => 'off');
	$data['columns'][] = array('name' => 'alert_time', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'type`,`type_id`,`clusterid`,`hostname';
	$data['keys'][] = array('name' => 'hostname', 'columns' => 'hostname');
	$data['keys'][] = array('name' => 'clusterid', 'columns' => 'clusterid');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_hosts_alarm', $data);

	$data = array();
	$data['columns'][] = array('name' => 'type_id', 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'type', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = array('type','type_id','clusterid','hostname');
	db_update_table('grid_hosts_alarm', $data);

	$data = array();
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'idle_slot_time', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobs_done', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobs_exited', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'job_last_started', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'job_last_ended', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'job_last_suspended', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'job_last_exited', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'date_recorded', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['primary'] = 'host`,`clusterid';
	$data['keys'][] = array('name' => 'clusterid', 'columns' => 'clusterid');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_hosts_jobtraffic', $data);

	$data = array();
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'resource_name', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'resType', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'flag', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'availValue', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'totalValue', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'reservedValue', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'value', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP');
	$data['primary'] = 'host`,`clusterid`,`resource_name`,`resType';
	$data['keys'][] = array('name' => 'value', 'columns' => 'value');
	$data['keys'][] = array('name' => 'resource_name_host', 'columns' => 'resource_name`,`host');
	$data['keys'][] = array('name' => 'clusterid', 'columns' => 'clusterid');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_hosts_resources', $data);

	$data = array();
	$data['columns'][] = array('name' => 'id', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'auto_increment' => true);
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hostname', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'resource_name', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'loadSched', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'loadStop', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'busySched', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'busyStop', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`hostname`,`resource_name';
	$data['keys'][] = array('name' => 'id', 'columns' => 'id');
	$data['keys'][] = array('name' => 'hostname', 'columns' => 'hostname');
	$data['keys'][] = array('name' => 'resource_name', 'columns' => 'resource_name');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_host_threshold', $data);

	$data = array();
	$data['columns'][] = array('name' => 'id', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'auto_increment' => true);
	$data['columns'][] = array('name' => 'busySched', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'busyStop', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = array('clusterid','hostname','resource_name');
	$data['type']  = 'InnoDB';
	db_update_table('grid_host_threshold', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'user', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'stat', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'app', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'from_host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'exec_host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'projectName', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'jobs_in_state', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobs_wall_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_wall_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobs_stime', 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'jobs_utime', 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'slots_in_state', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpus_in_state', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_memory', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_memory', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_avg_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_max_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'interval_start', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'interval_end', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'date_recorded', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['primary'] = 'clusterid`,`user`,`stat`,`projectName`,`exec_host`,`from_host`,`queue`,`app`,`date_recorded';
	$data['keys'][] = array('name' => 'interval_start', 'columns' => 'interval_start');
	$data['keys'][] = array('name' => 'interval_end', 'columns' => 'interval_end');
	$data['keys'][] = array('name' => 'date_recorded', 'columns' => 'date_recorded');
	$data['keys'][] = array('name' => 'user', 'columns' => 'user');
	$data['keys'][] = array('name' => 'stat', 'columns' => 'stat');
	$data['keys'][] = array('name' => 'queue', 'columns' => 'queue');
	$data['keys'][] = array('name' => 'app', 'columns' => 'app');
	$data['keys'][] = array('name' => 'exec_host', 'columns' => 'exec_host');
	$data['keys'][] = array('name' => 'projectName', 'columns' => 'projectName');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_job_daily_stats', $data);

	$data = array();
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'app', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '', 'after' => 'queue');
	$data['columns'][] = array('name' => 'gpu_wall_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'after' => 'jobs_wall_time');
	$data['columns'][] = array('name' => 'gpus_in_state', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'after' => 'slots_in_state');
	$data['columns'][] = array('name' => 'gpu_avg_mem', 'type' => 'double', 'NULL' => false, 'default' => '0', 'after' => 'max_memory');
	$data['columns'][] = array('name' => 'gpu_max_mem', 'type' => 'double', 'NULL' => false, 'default' => '0', 'after' => 'gpu_avg_mem');
	$data['primary'] = array('clusterid','user','stat','projectName','exec_host','from_host','queue','app','date_recorded');
	db_update_table('grid_job_daily_stats', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'user', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'stat', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'app', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'from_host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'exec_host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'projectName', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'jobs_reaching_state', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobs_wall_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_wall_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobs_stime', 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'jobs_utime', 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'slots_in_state', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpus_in_state', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_memory', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_memory', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_avg_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_max_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'interval_start', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'interval_end', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'date_recorded', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['primary'] = 'clusterid`,`user`,`stat`,`projectName`,`exec_host`,`from_host`,`queue`,`app`,`date_recorded';
	$data['keys'][] = array('name' => 'interval_start', 'columns' => 'interval_start');
	$data['keys'][] = array('name' => 'interval_end', 'columns' => 'interval_end');
	$data['keys'][] = array('name' => 'stat', 'columns' => 'stat');
	$data['keys'][] = array('name' => 'queue', 'columns' => 'queue');
	$data['keys'][] = array('name' => 'date_recorded', 'columns' => 'date_recorded');
	$data['keys'][] = array('name' => 'clusterid_queue_stat', 'columns' => 'clusterid`,`queue`,`stat');
	$data['keys'][] = array('name' => 'clusterid_date_recorded', 'columns' => 'clusterid`,`date_recorded');
	$data['keys'][] = array('name' => 'clusterid_stat_interval_end', 'columns' => 'clusterid`,`stat`,`interval_end`,`user');
	$data['keys'][] = array('name' => 'projectName', 'columns' => 'projectName');
	$data['keys'][] = array('name' => 'user', 'columns' => 'user');
	$data['keys'][] = array('name' => 'app', 'columns' => 'app');
	$data['type'] = 'MyISAM';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_job_interval_stats', $data);

	$data = array();
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'app', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '', 'after' => 'queue');
	$data['columns'][] = array('name' => 'gpu_wall_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'after' => 'jobs_wall_time');
	$data['columns'][] = array('name' => 'gpus_in_state', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'after' => 'slots_in_state');
	$data['columns'][] = array('name' => 'gpu_avg_mem', 'type' => 'double', 'NULL' => false, 'default' => '0', 'after' => 'max_memory');
	$data['columns'][] = array('name' => 'gpu_max_mem', 'type' => 'double', 'NULL' => false, 'default' => '0', 'after' => 'gpu_avg_mem');
	$data['primary'] = array('clusterid','user','stat','projectName','exec_host','from_host','queue','app','date_recorded');
	db_update_table('grid_job_interval_stats', $data);

	$data = array();
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'indexid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'options', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'options2', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'options3', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'options4', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'user', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'stat', 'type' => 'varchar(10)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'prev_stat', 'type' => 'varchar(10)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'stat_changes', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'flapping_logged', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'exitStatus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pendReasons', 'type' => 'varchar(512)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'nice', 'type' => 'varchar(4)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'from_host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'exec_host', 'type' => 'varchar(64)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'execUid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'loginShell', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'execHome', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'execCwd', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'cwd', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'exceptMask', 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'exitInfo', 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'postExecCmd', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'app', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'execUsername', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'mailUser', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'jobname', 'type' => 'varchar(128)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'jobPriority', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobPid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'userPriority', 'type' => 'int(11)', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'projectName', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'parentGroup', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'sla', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'jobGroup', 'type' => 'varchar(512)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'licenseProject', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'command', 'type' => 'varchar(1024)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'inFile', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'outFile', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'errFile', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'preExecCmd', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'res_requirements', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'gpuResReq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'dependCond', 'type' => 'varchar(1024)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'mem_used', 'type' => 'double', 'NULL' => true);
	$data['columns'][] = array('name' => 'swap_used', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_memory', 'type' => 'double', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_mem_used', 'type' => 'double', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_max_memory', 'type' => 'double', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'max_swap', 'type' => 'double', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'mem_requested', 'type' => 'double', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'mem_requested_oper', 'type' => 'varchar(8)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'mem_reserved', 'type' => 'double', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'cpu_used', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'utime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'stime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'efficiency', 'type' => 'decimal(9,5)', 'NULL' => false, 'default' => '0.00000');
	$data['columns'][] = array('name' => 'effic_logged', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPIDS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPGIDS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numThreads', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pid_alarm_logged', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'num_nodes', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '1');
	$data['columns'][] = array('name' => 'num_cpus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '1');
	$data['columns'][] = array('name' => 'max_allocated_processes', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'comment' => 'job level allocated slot');
	$data['columns'][] = array('name' => 'maxNumProcessors', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'num_gpus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_mode', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'reserveTime', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'predictedStartTime', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'start_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'end_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'beginTime', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'termTime', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'runtimeEstimation', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'pend_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'psusp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'run_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_exec_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'ususp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'ssusp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'unkwn_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'prov_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'acJobWaitTime', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hostSpec', 'type' => 'varchar(40)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'rlimit_max_cpu', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_wallt', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_swap', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_fsize', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_data', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_stack', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_core', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_rss', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'job_start_logged', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'job_end_logged', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'job_scan_logged', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'userGroup', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'jobDescription', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'combinedResreq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'effectiveResreq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'gpuCombinedResreq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'gpuEffectiveResreq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'chargedSAAP', 'type' => 'varchar(256)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'ineligiblePendingTime', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pendState', 'type' => 'int(10)', 'NULL' => false, 'default' => '-1');
	$data['columns'][] = array('name' => 'effectivePendingTimeLimit', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'effectiveEligiblePendingTimeLimit', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'isLoaningGSLA', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'cpuPeak', 'type' => 'decimal(9,5)', 'NULL' => false, 'default' => '0.00000');
	$data['columns'][] = array('name' => 'peakEfficiency', 'type' => 'decimal(9,5)', 'NULL' => false, 'default' => '0.00000');
	$data['columns'][] = array('name' => 'memEfficiency', 'type' => 'decimal(9,5)', 'NULL' => false, 'default' => '0.00000');
	$data['columns'][] = array('name' => 'cpuPeakReachedTime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP', 'on_update' => 'CURRENT_TIMESTAMP');
	$data['primary'] = 'clusterid`,`jobid`,`indexid`,`submit_time';
	$data['keys'][] = array('name' => 'submit_time', 'columns' => 'submit_time');
	$data['keys'][] = array('name' => 'projectName', 'columns' => 'projectName');
	$data['keys'][] = array('name' => 'start_time', 'columns' => 'start_time');
	$data['keys'][] = array('name' => 'end_time', 'columns' => 'end_time');
	$data['keys'][] = array('name' => 'job_start_logged', 'columns' => 'job_start_logged');
	$data['keys'][] = array('name' => 'job_end_logged', 'columns' => 'job_end_logged');
	$data['keys'][] = array('name' => 'job_scan_logged', 'columns' => 'job_scan_logged');
	$data['keys'][] = array('name' => 'jobname', 'columns' => 'jobname');
	$data['keys'][] = array('name' => 'queue_clusterid', 'columns' => 'queue`,`clusterid');
	$data['keys'][] = array('name' => 'stat_clusterid_exitInfo', 'columns' => 'stat`,`clusterid`,`exitInfo');
	$data['keys'][] = array('name' => 'user_clusterid', 'columns' => 'user`,`clusterid');
	$data['keys'][] = array('name' => 'from_host_clusterid', 'columns' => 'from_host`,`clusterid');
	$data['keys'][] = array('name' => 'exec_host_clusterid', 'columns' => 'exec_host`,`clusterid');
	$data['keys'][] = array('name' => 'swap_used', 'columns' => 'swap_used');
	$data['keys'][] = array('name' => 'cpu_used', 'columns' => 'cpu_used');
	$data['keys'][] = array('name' => 'mem_used', 'columns' => 'mem_used');
	$data['keys'][] = array('name' => 'num_nodes', 'columns' => 'num_nodes');
	$data['keys'][] = array('name' => 'num_cpus', 'columns' => 'num_cpus');
	$data['keys'][] = array('name' => 'pend_time', 'columns' => 'pend_time');
	$data['keys'][] = array('name' => 'ineligiblePendingTime', 'columns' => 'ineligiblePendingTime');
	$data['keys'][] = array('name' => 'effectivePendingTimeLimit', 'columns' => 'effectivePendingTimeLimit');
	$data['keys'][] = array('name' => 'effectiveEligiblePendingTimeLimit', 'columns' => 'effectiveEligiblePendingTimeLimit');
	$data['keys'][] = array('name' => 'psusp_time', 'columns' => 'psusp_time');
	$data['keys'][] = array('name' => 'run_time', 'columns' => 'run_time');
	$data['keys'][] = array('name' => 'ususp_time', 'columns' => 'ususp_time');
	$data['keys'][] = array('name' => 'ssusp_time', 'columns' => 'ssusp_time');
	$data['keys'][] = array('name' => 'unkwn_time', 'columns' => 'unkwn_time');
	$data['keys'][] = array('name' => 'prov_time', 'columns' => 'prov_time');
	$data['keys'][] = array('name' => 'nice', 'columns' => 'nice');
	$data['keys'][] = array('name' => 'app', 'columns' => 'app');
	$data['keys'][] = array('name' => 'prev_stat', 'columns' => 'prev_stat');
	$data['keys'][] = array('name' => 'stat_changes', 'columns' => 'stat_changes');
	$data['keys'][] = array('name' => 'flapping_logged', 'columns' => 'flapping_logged');
	$data['keys'][] = array('name' => 'efficiency', 'columns' => 'efficiency');
	$data['keys'][] = array('name' => 'effic_logged', 'columns' => 'effic_logged');
	$data['keys'][] = array('name' => 'userGroup', 'columns' => 'userGroup');
	$data['keys'][] = array('name' => 'indexid', 'columns' => 'indexid');
	$data['keys'][] = array('name' => 'jobid', 'columns' => 'jobid');
	$data['keys'][] = array('name' => 'pid_alarm_logged', 'columns' => 'pid_alarm_logged');
	$data['keys'][] = array('name' => 'clusterid_end_logged', 'columns' => 'clusterid`,`job_end_logged');
	$data['keys'][] = array('name' => 'clusterid_stat_end_logged', 'columns' => 'clusterid`,`stat`,`job_end_logged');
	$data['keys'][] = array('name' => 'clusterid_stat_start_time', 'columns' => 'clusterid`,`stat`,`start_time');
	$data['keys'][] = array('name' => 'last_updated', 'columns' => 'last_updated');
	$data['keys'][] = array('name' => 'stat_last_updated', 'columns' => 'stat`,`last_updated');
	$data['keys'][] = array('name' => 'licenseProject', 'columns' => 'licenseProject');
	$data['keys'][] = array('name' => 'jobGroup', 'columns' => 'jobGroup');
	$data['keys'][] = array('name' => 'sla', 'columns' => 'sla');
	$data['keys'][] = array('name' => 'chargedSAAP', 'columns' => 'chargedSAAP');
	$data['keys'][] = array('name' => 'exitInfo', 'columns' => 'exitInfo');
	$data['keys'][] = array('name' => 'stat_last_updated', 'columns' => 'stat`,`last_updated');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['row_format'] = 'Dynamic';
	api_plugin_db_table_create ('grid', 'grid_jobs', $data);

	$data = array();
	$data['columns'][] = array('name' => 'options4', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'after' => 'options3');
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'gpuResReq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '', 'after' => 'res_requirements');
	$data['columns'][] = array('name' => 'gpu_mem_used', 'type' => 'double', 'NULL' => true, 'default' => '0', 'after' => 'max_memory');
	$data['columns'][] = array('name' => 'gpu_max_memory', 'type' => 'double', 'NULL' => true, 'default' => '0', 'after' => 'gpu_mem_used');
	$data['columns'][] = array('name' => 'num_gpus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'after' => 'maxNumProcessors');
	$data['columns'][] = array('name' => 'gpu_mode', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'after' => 'num_gpus');
	$data['columns'][] = array('name' => 'gpu_exec_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'after' => 'run_time');
	$data['columns'][] = array('name' => 'rlimit_max_swap', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_fsize', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_data', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_stack', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_core', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_rss', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpuCombinedResreq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '', 'after' => 'effectiveResreq');
	$data['columns'][] = array('name' => 'gpuEffectiveResreq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '', 'after' => 'gpuCombinedResreq');
	$data['columns'][] = array('name' => 'isLoaningGSLA', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0', 'after' => 'effectiveEligiblePendingTimeLimit');
	$data['columns'][] = array('name' => 'cpuPeak', 'type' => 'decimal(9,5)', 'NULL' => false, 'default' => '0.00000', 'after' => 'isLoaningGSLA');
	$data['columns'][] = array('name' => 'peakEfficiency', 'type' => 'decimal(9,5)', 'NULL' => false, 'default' => '0.00000', 'after' => 'cpuPeak');
	$data['columns'][] = array('name' => 'memEfficiency', 'type' => 'decimal(9,5)', 'NULL' => false, 'default' => '0.00000', 'after' => 'peakEfficiency');
	$data['columns'][] = array('name' => 'cpuPeakReachedTime', 'type' => 'double', 'NULL' => false, 'default' => '0', 'after' => 'memEfficiency');
	$data['primary'] = array('clusterid','jobid','indexid','submit_time');
	db_update_table('grid_jobs', $data);

	$data = array();
	$data['columns'][] = array('name' => 'exec_host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'exec_host`,`clusterid';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_exec_hosts', $data);

	$data = array();
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'indexid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'options', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'options2', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'options3', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'options4', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'user', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'stat', 'type' => 'varchar(10)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'prev_stat', 'type' => 'varchar(10)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'stat_changes', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'flapping_logged', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'exitStatus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pendReasons', 'type' => 'varchar(512)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'nice', 'type' => 'varchar(4)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'from_host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'exec_host', 'type' => 'varchar(64)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'execUid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'loginShell', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'execHome', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'execCwd', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'cwd', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'exceptMask', 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'exitInfo', 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'postExecCmd', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'app', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'execUsername', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'mailUser', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'jobname', 'type' => 'varchar(128)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'jobPriority', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobPid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'userPriority', 'type' => 'int(11)', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'projectName', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'parentGroup', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'sla', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'jobGroup', 'type' => 'varchar(512)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'licenseProject', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'command', 'type' => 'varchar(1024)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'inFile', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'outFile', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'errFile', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'preExecCmd', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'res_requirements', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'gpuResReq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'dependCond', 'type' => 'varchar(1024)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'mem_used', 'type' => 'double', 'NULL' => true);
	$data['columns'][] = array('name' => 'swap_used', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_memory', 'type' => 'double', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_mem_used', 'type' => 'double', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_max_memory', 'type' => 'double', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'max_swap', 'type' => 'double', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'mem_requested', 'type' => 'double', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'mem_requested_oper', 'type' => 'varchar(8)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'mem_reserved', 'type' => 'double', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'cpu_used', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'utime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'stime', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'efficiency', 'type' => 'decimal(9,5)', 'NULL' => false, 'default' => '0.00000');
	$data['columns'][] = array('name' => 'effic_logged', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPIDS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPGIDS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numThreads', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pid_alarm_logged', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'num_nodes', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '1');
	$data['columns'][] = array('name' => 'num_cpus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '1');
	$data['columns'][] = array('name' => 'max_allocated_processes', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'comment' => 'job level allocated slot');
	$data['columns'][] = array('name' => 'maxNumProcessors', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'num_gpus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_mode', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'reserveTime', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'predictedStartTime', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'start_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'end_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'beginTime', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'termTime', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'runtimeEstimation', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true, 'default' => '0');
	$data['columns'][] = array('name' => 'pend_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'psusp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'run_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_exec_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'ususp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'ssusp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'unkwn_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'prov_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'acJobWaitTime', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hostSpec', 'type' => 'varchar(40)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'rlimit_max_cpu', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_wallt', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_swap', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_fsize', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_data', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_stack', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_core', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_rss', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'job_start_logged', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'job_end_logged', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'job_scan_logged', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'userGroup', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'jobDescription', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'combinedResreq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'effectiveResreq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'gpuCombinedResreq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'gpuEffectiveResreq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'chargedSAAP', 'type' => 'varchar(256)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'ineligiblePendingTime', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pendState', 'type' => 'int(10)', 'NULL' => false, 'default' => '-1');
	$data['columns'][] = array('name' => 'effectivePendingTimeLimit', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'effectiveEligiblePendingTimeLimit', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP', 'on_update' => 'CURRENT_TIMESTAMP');
	$data['primary'] = 'clusterid`,`jobid`,`indexid`,`submit_time';
	$data['keys'][] = array('name' => 'submit_time', 'columns' => 'submit_time');
	$data['keys'][] = array('name' => 'projectName', 'columns' => 'projectName');
	$data['keys'][] = array('name' => 'start_time', 'columns' => 'start_time');
	$data['keys'][] = array('name' => 'end_time', 'columns' => 'end_time');
	$data['keys'][] = array('name' => 'jobname', 'columns' => 'jobname');
	$data['keys'][] = array('name' => 'queue_clusterid', 'columns' => 'queue`,`clusterid');
	$data['keys'][] = array('name' => 'stat_clusterid', 'columns' => 'stat`,`clusterid');
	$data['keys'][] = array('name' => 'user_clusterid', 'columns' => 'user`,`clusterid');
	$data['keys'][] = array('name' => 'stat_last_updated', 'columns' => 'stat`,`last_updated');
	$data['keys'][] = array('name' => 'from_host_clusterid', 'columns' => 'from_host`,`clusterid');
	$data['keys'][] = array('name' => 'exec_host_clusterid', 'columns' => 'exec_host`,`clusterid');
	$data['keys'][] = array('name' => 'cpu_used', 'columns' => 'cpu_used');
	$data['keys'][] = array('name' => 'mem_used', 'columns' => 'mem_used');
	$data['keys'][] = array('name' => 'num_nodes', 'columns' => 'num_nodes');
	$data['keys'][] = array('name' => 'num_cpus', 'columns' => 'num_cpus');
	$data['keys'][] = array('name' => 'pend_time', 'columns' => 'pend_time');
	$data['keys'][] = array('name' => 'run_time', 'columns' => 'run_time');
	$data['keys'][] = array('name' => 'stat_changes', 'columns' => 'stat_changes');
	$data['keys'][] = array('name' => 'efficiency', 'columns' => 'efficiency');
	$data['keys'][] = array('name' => 'userGroup', 'columns' => 'userGroup');
	$data['keys'][] = array('name' => 'indexid', 'columns' => 'indexid');
	$data['keys'][] = array('name' => 'jobid', 'columns' => 'jobid');
	$data['keys'][] = array('name' => 'last_updated', 'columns' => 'last_updated');
	$data['keys'][] = array('name' => 'licenseProject', 'columns' => 'licenseProject');
	$data['keys'][] = array('name' => 'jobGroup', 'columns' => 'jobGroup');
	$data['keys'][] = array('name' => 'sla', 'columns' => 'sla');
	$data['keys'][] = array('name' => 'stat_last_updated', 'columns' => 'stat`,`last_updated');
	$data['keys'][] = array('name' => 'clusterid_stat_last_updated', 'columns' => 'clusterid`,`stat`,`last_updated');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['row_format'] = 'Dynamic';
	api_plugin_db_table_create ('grid', 'grid_jobs_finished', $data);

	$data = array();
	$data['columns'][] = array('name' => 'options4', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'after' => 'options3');
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'gpuResReq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '', 'after' => 'res_requirements');
	$data['columns'][] = array('name' => 'gpu_mem_used', 'type' => 'double', 'NULL' => true, 'default' => '0', 'after' => 'max_memory');
	$data['columns'][] = array('name' => 'gpu_max_memory', 'type' => 'double', 'NULL' => true, 'default' => '0', 'after' => 'gpu_mem_used');
	$data['columns'][] = array('name' => 'num_gpus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'after' => 'maxNumProcessors');
	$data['columns'][] = array('name' => 'gpu_mode', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'after' => 'num_gpus');
	$data['columns'][] = array('name' => 'gpu_exec_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'after' => 'run_time');
	$data['columns'][] = array('name' => 'rlimit_max_swap', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_fsize', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_data', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_stack', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_core', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_rss', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpuCombinedResreq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '', 'after' => 'effectiveResreq');
	$data['columns'][] = array('name' => 'gpuEffectiveResreq', 'type' => 'varchar(512)', 'NULL' => true, 'default' => '', 'after' => 'gpuCombinedResreq');
	$data['primary'] = array('clusterid','jobid','indexid','submit_time');
	db_update_table('grid_jobs_finished', $data);

	$data = array();
	$data['columns'][] = array('name' => 'from_host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'from_host`,`clusterid';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_from_hosts', $data);

	$data = array();
	$data['columns'][] = array('name' => 'id', 'unsigned' => true, 'type' => 'bigint(8)', 'NULL' => false, 'auto_increment' => true);
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobid', 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'indexid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'start_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'update_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'gpu_id', 'type' => 'smallint(5)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'exec_time', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'energy', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'sm_ut_avg', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'sm_ut_max', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'sm_ut_min', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'mem_ut_avg', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'mem_ut_max', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'mem_ut_min', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'gpu_mused_max', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['primary'] = 'id';
	$data['keys'][] = array('name' => 'cid_jid_idx_subtime_hname_gid_utime', 'columns' => 'clusterid`,`jobid`,`indexid`,`submit_time`,`host`,`gpu_id`,`update_time');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_gpu_rusage', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobid', 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'indexid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'update_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'utime', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'stime', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'mem', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'swap', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'processes', 'type' => 'int(11)', 'NULL' => false, 'default' => '0', 'comment' => 'job host level allocated slot');
	$data['primary'] = 'clusterid`,`jobid`,`indexid`,`submit_time`,`host`,`update_time';
	$data['keys'][] = array('name' => 'update_time', 'columns' => 'update_time');
	$data['keys'][] = array('name' => 'submit_time', 'columns' => 'submit_time');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_host_rusage', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'indexid', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'cumulative_cpu', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'notified', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`submit_time`,`indexid`,`jobid';
	$data['keys'][] = array('name' => 'present', 'columns' => 'present');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_idled', $data);

	$data = array();
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'indexid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'exec_host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'processes', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'ngpus', 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['primary'] = 'clusterid`,`jobid`,`indexid`,`submit_time`,`exec_host';
	$data['keys'][] = array('name' => 'exec_host', 'columns' => 'exec_host');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_jobhosts', $data);

	$data = array();
	$data['columns'][] = array('name' => 'ngpus', 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0', 'after' => 'processes');
	$data['primary'] = array('clusterid','jobid','indexid','submit_time','exec_host');
	db_update_table('grid_jobs_jobhosts', $data);

	$data = array();
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'indexid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'exec_host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'processes', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'ngpus', 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0');
	$data['primary'] = 'clusterid`,`jobid`,`indexid`,`submit_time`,`exec_host';
	$data['keys'][] = array('name' => 'exec_host', 'columns' => 'exec_host');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_jobhosts_finished', $data);

	$data = array();
	$data['columns'][] = array('name' => 'ngpus', 'type' => 'mediumint(8)', 'NULL' => false, 'default' => '0', 'after' => 'processes');
	$data['primary'] = array('clusterid','jobid','indexid','submit_time','exec_host');
	db_update_table('grid_jobs_jobhosts_finished', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'indexid', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'type', 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'run_time', 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rusage_memory', 'unsigned' => true, 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'rusage_swap', 'unsigned' => true, 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'max_memory', 'unsigned' => true, 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'max_swap', 'unsigned' => true, 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'notified', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`submit_time`,`indexid`,`jobid';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_memvio', $data);

	$data = array();
	$data['columns'][] = array('name' => 'rusage_memory', 'unsigned' => true, 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'rusage_swap', 'unsigned' => true, 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'max_memory', 'unsigned' => true, 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'max_swap', 'unsigned' => true, 'type' => 'double', 'NULL' => false);
	$data['primary'] = array('clusterid','submit_time','indexid','jobid');
	db_update_table('grid_jobs_memvio', $data);

	$data = array();
	$data['columns'][] = array('name' => 'issusp', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'reason_code', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'sub_reason_code', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'reason', 'type' => 'varchar(256)', 'NULL' => false, 'default' => '');
	$data['primary'] = 'issusp`,`reason_code`,`sub_reason_code';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_pendreason_maps', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'indexid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'issusp', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'reason', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'subreason', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'type', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'detail', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'ratio', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'start_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'end_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP', 'on_update' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`jobid`,`indexid`,`submit_time`,`issusp`,`reason`,`subreason`,`type`,`end_time';
	$data['keys'][] = array('name' => 'clusterid_end_time_last_updated', 'columns' => 'clusterid`,`end_time`,`last_updated');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_pendreasons', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'indexid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'issusp', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'reason', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'subreason', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'type', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'detail', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'ratio', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'start_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'end_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP', 'on_update' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`jobid`,`indexid`,`submit_time`,`issusp`,`reason`,`subreason`,`type`,`end_time';
	$data['keys'][] = array('name' => 'clusterid_end_time', 'columns' => 'clusterid`,`end_time');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_pendreasons_finished', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'indexid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'PID', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'PGID', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'mem', 'type' => 'double', 'NULL' => true);
	$data['columns'][] = array('name' => 'swap', 'type' => 'double', 'NULL' => true);
	$data['columns'][] = array('name' => 'utime', 'type' => 'double', 'NULL' => true);
	$data['columns'][] = array('name' => 'stime', 'type' => 'double', 'NULL' => true);
	$data['columns'][] = array('name' => 'first_seen', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'last_seen', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP', 'on_update' => 'CURRENT_TIMESTAMP');
	$data['primary'] = 'clusterid`,`jobid`,`indexid`,`host`,`PID';
	$data['keys'][] = array('name' => 'clusterid_host', 'columns' => 'clusterid`,`host');
	$data['keys'][] = array('name' => 'pid', 'columns' => 'PID');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_processes', $data);

	$data = array();
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'queue`,`clusterid';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_queues', $data);

	$data = array();
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['primary'] = array('queue','clusterid');
	$data['type']  = 'InnoDB';
	db_update_table('grid_jobs_queues', $data);

	$data = array();
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'indexid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['primary'] = 'clusterid`,`jobid`,`indexid`,`submit_time`,`host';
	$data['keys'][] = array('name' => 'host', 'columns' => 'host');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_reqhosts', $data);

	$data = array();
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'indexid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['primary'] = 'clusterid`,`jobid`,`indexid`,`submit_time`,`host';
	$data['keys'][] = array('name' => 'host', 'columns' => 'host');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_reqhosts_finished', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'indexid', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'rlimit_max_wallt', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'runtimeEstimation', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'run_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'type', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'notified', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`submit_time`,`indexid`,`jobid`,`type`,`rlimit_max_wallt`,`runtimeEstimation';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_runtime', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'jobid', 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'indexid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'submit_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'update_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'utime', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'stime', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'mem', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'swap', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'mem_reserved', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'npids', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'npgids', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'nthreads', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'num_cpus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'comment' => 'job level allocated slot');
	$data['columns'][] = array('name' => 'pids', 'type' => 'varchar(1024)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'pgids', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['primary'] = 'clusterid`,`jobid`,`indexid`,`submit_time`,`update_time';
	$data['keys'][] = array('name' => 'update_time', 'columns' => 'update_time');
	$data['keys'][] = array('name' => 'submit_time', 'columns' => 'submit_time');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_rusage', $data);

	$data = array();
	$data['columns'][] = array('name' => 'avgCpuEffi', 'type' => 'decimal(9,5)', 'NULL' => false, 'default' => '0.00000');
	$data['primary'] = array('clusterid','jobid','indexid','submit_time','update_time');
	$data['type']  = 'InnoDB';
	db_update_table('grid_jobs_rusage', $data);

	$data = array();
	$data['columns'][] = array('name' => 'stat', 'type' => 'varchar(10)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'stat`,`clusterid';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_stats', $data);

	$data = array();
	$data['columns'][] = array('name' => 'user', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'user`,`clusterid';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_jobs_users', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'licenseProject', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'numRUN', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPEND', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numJOBS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'efficiency', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'total_cpu', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`licenseProject';
	$data['keys'][] = array('name' => 'present', 'columns' => 'present');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Tracks License Project Information';
	api_plugin_db_table_create ('grid', 'grid_license_projects', $data);

	$data = array();
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'status', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'prev_status', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'time_in_state', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'istatus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'r15s', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'r1m', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'r15m', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'ut', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pg', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'io', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'ls', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'it', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'tmp', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'swp', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'mem', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'host`,`clusterid';
	$data['keys'][] = array('name' => 'clusterid', 'columns' => 'clusterid');
	$data['keys'][] = array('name' => 'status', 'columns' => 'status');
	$data['keys'][] = array('name' => 'prev_status', 'columns' => 'prev_status');
	$data['keys'][] = array('name' => 'istatus', 'columns' => 'istatus');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_load', $data);

	$data = array();
	$data['columns'][] = array('name' => 'hostType_match', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'signal', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'action', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'abreviation', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'description', 'type' => 'text', 'NULL' => false);
	$data['primary'] = 'hostType_match`,`signal`,`abreviation';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_os_signals', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'parameter', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'parameter_class', 'type' => 'varchar(10)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'parameter_value', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'parameter_default', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'description', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'type', 'type' => 'varchar(10)', 'NULL' => false, 'default' => '');
	$data['primary'] = 'clusterid`,`parameter';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_params', $data);

	$data = array();
	$data['columns'][] = array('name' => 'user_id', 'unsigned' => true, 'type' => 'mediumint(8)', 'NULL' => false);
	$data['columns'][] = array('name' => 'issusp', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'reason', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'subreason', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP', 'on_update' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'user_id`,`issusp`,`reason`,`subreason';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_pendreasons_ignore', $data);

	$data = array();
	$data['columns'][] = array('name' => 'poller_id', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'auto_increment' => true);
	$data['columns'][] = array('name' => 'poller_name', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'poller_lbindir', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'poller_licserver_threads', 'type' => 'int(11)', 'NULL' => false, 'default' => '5');
	$data['columns'][] = array('name' => 'poller_location', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'poller_support_info', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'lsf_version', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '1017');
	$data['columns'][] = array('name' => 'remote', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'poller_max_insert_packet_size', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['primary'] = 'poller_id';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_pollers', $data);

	$data = array();
	$data['columns'][] = array('name' => 'remote', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '', 'after' => 'lsf_version');
	$data['columns'][] = array('name' => 'poller_max_insert_packet_size', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '', 'after' => 'remote');
	$data['primary'] = array('poller_id');
	db_update_table('grid_pollers', $data);

	$data = array();
	$data['columns'][] = array('name' => 'pid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'taskname', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'taskid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'heartbeat', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['primary'] = 'taskname`,`taskid';
	$data['type'] = 'MEMORY';
	$data['charset'] = 'latin1';
	$data['row_format'] = 'Fixed';
	api_plugin_db_table_create ('grid', 'grid_processes', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'projectName', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'numRUN', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPEND', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numJOBS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'comment' => 'num slots of this project');
	$data['columns'][] = array('name' => 'pendJOBS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'runJOBS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'totalJOBS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'comment' => 'num jobs of this project');
	$data['columns'][] = array('name' => 'efficiency', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'total_cpu', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`projectName';
	$data['keys'][] = array('name' => 'present', 'columns' => 'present');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Tracks Project Information';
	api_plugin_db_table_create ('grid', 'grid_projects', $data);

	$data = array();
	$data['columns'][] = array('name' => 'queuename', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'description', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'priority', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'nice', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'status', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'reason', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'numslots', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'maxjobs', 'type' => 'varchar(10)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'userJobLimit', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'procJobLimit', 'type' => 'varchar(5)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'hostJobLimit', 'type' => 'varchar(5)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'nojobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pendjobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'runjobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'suspjobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['columns'][] = array('name' => 'avg_pend_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_pend_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_psusp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_psusp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_run_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_run_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_ususp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_ususp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_ssusp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_ssusp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_unkwn_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_unkwn_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_disp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_disp_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hourly_started_jobs', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hourly_done_jobs', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hourly_exit_jobs', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'daily_started_jobs', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'daily_done_jobs', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'daily_exit_jobs', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'efficiency', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'total_cpu', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'dedicatedSlots', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'sharedSlots', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'openDedicatedSlots', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'openSharedSlots', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'windows', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'windowsD', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'hostSpec', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'qAttrib', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'qStatus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'userShares', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'defaultHostSpec', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'procLimit', 'type' => 'varchar(5)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'admins', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'preCmd', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'postCmd', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'requeueEValues', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'resReq', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'slotHoldTime', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'sndJobsTo', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'rcvJobsFrom', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'resumeCond', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'stopCond', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'jobStarter', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'suspendActCmd', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'resumeActCmd', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'terminateActCmd', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'preemption', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'maxRschedTime', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'maxJobRequeue', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'chkpntDir', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'chkpntPeriod', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'imptJobBklg', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'chunkJobSize', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'minProcLimit', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'defProcLimit', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'fairshareQueues', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'defExtSched', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'mandExtSched', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'slotShare', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'slotPool', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'underRCond', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'overRCond', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'idleCond', 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'underRJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'overRJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'idleJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'warningTimePeriod', 'type' => 'int(11)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'warningAction', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'qCtrlMsg', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'rlimit_max_cpu', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_wallt', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_swap', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_fsize', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_data', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_stack', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_core', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_rss', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP', 'on_update' => 'CURRENT_TIMESTAMP');
	$data['primary'] = 'queuename`,`clusterid';
	$data['keys'][] = array('name' => 'status', 'columns' => 'status');
	$data['keys'][] = array('name' => 'reason', 'columns' => 'reason');
	$data['keys'][] = array('name' => 'nice', 'columns' => 'nice');
	$data['keys'][] = array('name' => 'clusterid', 'columns' => 'clusterid');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_queues', $data);

	$data = array();
	$data['columns'][] = array('name' => 'queuename', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'rlimit_max_swap', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_fsize', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_data', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_stack', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_core', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'rlimit_max_rss', 'unsigned' => true, 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP', 'on_update' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = array('queuename','clusterid');
	db_update_table('grid_queues', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`queue`,`host';
	$data['keys'][] = array('name' => 'host', 'columns' => 'host');
	$data['keys'][] = array('name' => 'queue', 'columns' => 'queue');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_queues_hosts', $data);

	$data = array();
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['primary'] = array('clusterid','queue','host');
	$data['type']  = 'InnoDB';
	db_update_table('grid_queues_hosts', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'user_or_group', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'shareAcctPath', 'type' => 'varchar(200)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'shares', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'priority', 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'parent_slots', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true);
	$data['columns'][] = array('name' => 'leaf_share', 'type' => 'double', 'NULL' => true);
	$data['columns'][] = array('name' => 'started', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'reserved', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'cpu_time', 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'run_time', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false);
	$data['columns'][] = array('name' => 'pend_jobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true);
	$data['columns'][] = array('name' => 'pend_slots', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true);
	$data['columns'][] = array('name' => 'run_jobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true);
	$data['columns'][] = array('name' => 'run_slots', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true);
	$data['columns'][] = array('name' => 'relative_share', 'type' => 'double', 'NULL' => true);
	$data['columns'][] = array('name' => 'slot_share', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true);
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`queue`,`user_or_group`,`shareAcctPath';
	$data['keys'][] = array('name' => 'user_or_group', 'columns' => 'user_or_group');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_queues_shares', $data);

	$data = array();
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'run_time', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false);
	$data['primary'] = array('clusterid','queue','user_or_group','shareAcctPath');
	db_update_table('grid_queues_shares', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'numRUN', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPEND', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numJOBS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0', 'comment' => 'num slots of this queue');
	$data['columns'][] = array('name' => 'efficiency', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'total_cpu', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'memSlotUtil', 'type' => 'double', 'NULL' => false, 'default' => '0',);
	$data['columns'][] = array('name' => 'slotUtil', 'type' => 'double', 'NULL' => false, 'default' => '0',);
	$data['columns'][] = array('name' => 'cpuUtil', 'type' => 'double', 'NULL' => false, 'default' => '0',);
	$data['columns'][] = array('name' => 'memUsed', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0',);
	$data['columns'][] = array('name' => 'memRequested', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0',);
	$data['columns'][] = array('name' => 'memReserved', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0',);
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`queue';
	$data['keys'][] = array('name' => 'present', 'columns' => 'present');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Tracks Queue Statistical Information';
	api_plugin_db_table_create ('grid', 'grid_queues_stats', $data);

	$data = array();
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['primary'] = array('clusterid','queue');
	db_update_table('grid_queues_stats', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'loadSched', 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'loadStop', 'type' => 'double', 'NULL' => false);
	$data['primary'] = 'clusterid`,`queue';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Dermines Queue Scheduling Load Thresholds';
	api_plugin_db_table_create ('grid', 'grid_queues_thresholds', $data);

	$data = array();
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['primary'] = array('clusterid','queue');
	db_update_table('grid_queues_thresholds', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'user', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`queue`,`user';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_queues_users', $data);

	$data = array();
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['primary'] = array('clusterid','queue','user');
	$data['type'] = 'InnoDB';
	db_update_table('grid_queues_users', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'user_or_group', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'nojobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'pendjobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'runjobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'suspjobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'efficiency', 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`queue`,`user_or_group';
	$data['keys'][] = array('name' => 'clusterid_user_or_group', 'columns' => 'clusterid`,`user_or_group');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_queues_users_stats', $data);

	$data = array();
	$data['columns'][] = array('name' => 'queue', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['primary'] = array('clusterid','queue','user_or_group');
	$data['type'] = 'InnoDB';
	db_update_table('grid_queues_users_stats', $data);

	$data = array();
	$data['columns'][] = array('name' => 'resource_name', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'value', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'resource_name`,`value`,`clusterid';
	$data['keys'][] = array('name' => 'clusterid', 'columns' => 'clusterid');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_resources', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'name', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'description', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'consumer', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'priority', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'control_action', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'auto_attach', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false);
	$data['columns'][] = array('name' => 'ego_res_req', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'max_host_idle_time', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'throughput', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`name';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Stores Service Class Definitions';
	api_plugin_db_table_create ('grid', 'grid_service_class', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'name', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'acl_type', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'acl_member', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`name`,`acl_type`,`acl_member';
	$data['keys'][] = array('name' => 'acl_member', 'columns' => 'acl_member');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Stores Access Control Information for Service Class';
	api_plugin_db_table_create ('grid', 'grid_service_class_access_control', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'name', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'goal_seq', 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'goalType', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'goal_window', 'type' => 'varchar(1024)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'status', 'type' => 'varchar(64)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'min_config', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true);
	$data['columns'][] = array('name' => 'goal_config', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true);
	$data['columns'][] = array('name' => 'actual', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true);
	$data['columns'][] = array('name' => 'optimum', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true);
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`name`,`goal_seq';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Stores Service Class Goals';
	api_plugin_db_table_create ('grid', 'grid_service_class_goals', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'name', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'user_or_group', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`name`,`user_or_group';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'User or User Groups Permitted to Use Service Class';
	api_plugin_db_table_create ('grid', 'grid_service_class_groups', $data);

	$data = array();
	$data['columns'][] = array('name' => 'user_id', 'unsigned' => true, 'type' => 'smallint(8)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'name', 'type' => 'varchar(50)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'value', 'type' => 'varchar(1024)', 'NULL' => false, 'default' => '');
	$data['primary'] = 'user_id`,`name';
	$data['type'] = 'MyISAM';
	$data['charset'] = 'utf8mb4';
	api_plugin_db_table_create ('grid', 'grid_settings', $data);

	api_plugin_db_add_column('grid', 'user_auth', array('name' => 'grid_settings', 'type' => 'char(2)', 'NULL' => false, 'default' => 'on', 'after' => 'graph_settings'));

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'resource_name', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'description', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`resource_name';
	$data['keys'][] = array('name' => 'resource_name', 'columns' => 'resource_name');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_sharedresources', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'clustername', 'type' => 'varchar(128)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'summary_status', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'load_status', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'r15s', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'r1m', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'r15m', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'ut', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'pg', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'io', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'ls', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'it', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'tmp', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'swp', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'mem', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hStatus', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hCtrlMsg', 'type' => 'varchar(255)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'bhost_status', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'cpuFactor', 'type' => 'float', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'windows', 'type' => 'varchar(255)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'userJobLimit', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'maxJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numRun', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numSSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numUSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numRESERVE', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'hostType', 'type' => 'varchar(20)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'hostModel', 'type' => 'varchar(40)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'maxCpus', 'type' => 'varchar(10)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'maxMem', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'maxSwap', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'maxTmp', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'nDisks', 'type' => 'varchar(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'isServer', 'type' => 'char(1)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'licensed', 'type' => 'char(1)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'rexPriority', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'licFeaturesNeeded', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'first_seen', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'last_seen', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'job_last_started', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'job_last_ended', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'job_last_suspended', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'job_last_exited', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'date_recorded', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'cacti_hostid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => true);
	$data['columns'][] = array('name' => 'monitor', 'type' => 'char(3)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'disabled', 'type' => 'char(2)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'cacti_status', 'type' => 'tinyint(2)', 'NULL' => true);
	$data['columns'][] = array('name' => 'status_rec_date', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'status_fail_date', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'min_time', 'type' => 'decimal(10,5)', 'NULL' => true, 'default' => '9.99999');
	$data['columns'][] = array('name' => 'max_time', 'type' => 'decimal(10,5)', 'NULL' => true, 'default' => '0.00000');
	$data['columns'][] = array('name' => 'cur_time', 'type' => 'decimal(10,5)', 'NULL' => true, 'default' => '0.00000');
	$data['columns'][] = array('name' => 'avg_time', 'type' => 'decimal(10,5)', 'NULL' => true, 'default' => '0.00000');
	$data['columns'][] = array('name' => 'availability', 'type' => 'decimal(10,5)', 'NULL' => true);
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`host';
	$data['keys'][] = array('name' => 'load_status', 'columns' => 'load_status');
	$data['keys'][] = array('name' => 'cacti_status', 'columns' => 'cacti_status');
	$data['keys'][] = array('name' => 'summary_status', 'columns' => 'summary_status');
	$data['keys'][] = array('name' => 'bhost_status', 'columns' => 'bhost_status');
	$data['keys'][] = array('name' => 'clusterid', 'columns' => 'clustername');
	$data['keys'][] = array('name' => 'host', 'columns' => 'host');
	$data['keys'][] = array('name' => 'monitor', 'columns' => 'monitor');
	$data['keys'][] = array('name' => 'disabled', 'columns' => 'disabled');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_summary', $data);

	$data = array();
	$data['columns'][] = array('name' => 'maxMem', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'maxSwap', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['columns'][] = array('name' => 'maxTmp', 'type' => 'varchar(20)', 'NULL' => true, 'default' => '');
	$data['primary'] = array('clusterid','host');
	$data['type'] = 'InnoDB';
	db_update_table('grid_summary', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'host', 'type' => 'varchar(64)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'unavail', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false);
	$data['columns'][] = array('name' => 'busyclose', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false);
	$data['columns'][] = array('name' => 'idleclose', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false);
	$data['columns'][] = array('name' => 'lowres', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false);
	$data['columns'][] = array('name' => 'busy', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false);
	$data['columns'][] = array('name' => 'idlewjobs', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false);
	$data['columns'][] = array('name' => 'idle', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false);
	$data['columns'][] = array('name' => 'starved', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false);
	$data['columns'][] = array('name' => 'admindown', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false);
	$data['columns'][] = array('name' => 'blackhole', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false);
	$data['primary'] = 'clusterid`,`host';
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_summary_timeinstate', $data);

	$data = array();
	$data['columns'][] = array('name' => 'partition', 'type' => 'varchar(5)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'table_name', 'type' => 'varchar(45)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'min_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'max_time', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['primary'] = 'partition`,`table_name';
	$data['keys'][] = array('name' => 'max_time', 'columns' => 'max_time');
	$data['keys'][] = array('name' => 'min_time', 'columns' => 'min_time');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_table_partitions', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'groupname', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'username', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'shares', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '1');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`groupname`,`username';
	$data['keys'][] = array('name' => 'groupname', 'columns' => 'groupname');
	$data['keys'][] = array('name' => 'username', 'columns' => 'username');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_user_group_members', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false);
	$data['columns'][] = array('name' => 'userGroup', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'numRUN', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPEND', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numJOBS', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'efficiency', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_mem', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'avg_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'max_swap', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'total_cpu', 'unsigned' => true, 'type' => 'bigint(20)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`userGroup';
	$data['keys'][] = array('name' => 'present', 'columns' => 'present');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	$data['comment'] = 'Tracks userGroup Stats';
	api_plugin_db_table_create ('grid', 'grid_user_group_stats', $data);

	$data = array();
	$data['columns'][] = array('name' => 'clusterid', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'user_or_group', 'type' => 'varchar(60)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'type', 'type' => 'char(1)', 'NULL' => false, 'default' => '');
	$data['columns'][] = array('name' => 'procJobLimit', 'type' => 'double', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'maxJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numStartJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numPEND', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numRUN', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numSSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numUSUSP', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'numRESERVE', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'maxPendJobs', 'unsigned' => true, 'type' => 'int(10)', 'NULL' => false, 'default' => '0');
	$data['columns'][] = array('name' => 'efficiency', 'type' => 'double', 'NULL' => false);
	$data['columns'][] = array('name' => 'first_seen', 'type' => 'timestamp', 'NULL' => false, 'default' => '0000-00-00 00:00:00');
	$data['columns'][] = array('name' => 'last_updated', 'type' => 'timestamp', 'NULL' => false, 'default' => 'CURRENT_TIMESTAMP', 'on_update' => 'CURRENT_TIMESTAMP');
	$data['columns'][] = array('name' => 'present', 'unsigned' => true, 'type' => 'tinyint(3)', 'NULL' => false, 'default' => '1');
	$data['primary'] = 'clusterid`,`user_or_group';
	$data['keys'][] = array('name' => 'type', 'columns' => 'type');
	$data['type'] = 'InnoDB';
	$data['charset'] = 'latin1';
	api_plugin_db_table_create ('grid', 'grid_users_or_groups', $data);
}
